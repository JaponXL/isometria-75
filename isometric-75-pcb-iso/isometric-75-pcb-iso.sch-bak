EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 2
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L MCU_ST_STM32F0:STM32F072CBTx U102
U 1 1 5E618B46
P 2300 5150
F 0 "U102" H 2250 3561 50  0000 C CNN
F 1 "STM32F072CBTx" H 2250 3470 50  0000 C CNN
F 2 "Package_QFP:LQFP-48_7x7mm_P0.5mm" H 1700 3750 50  0001 R CNN
F 3 "http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/DM00090510.pdf" H 2300 5150 50  0001 C CNN
	1    2300 5150
	1    0    0    -1  
$EndComp
$Comp
L power:+3.3V #PWR0107
U 1 1 5E620443
P 2100 3450
F 0 "#PWR0107" H 2100 3300 50  0001 C CNN
F 1 "+3.3V" H 2115 3623 50  0000 C CNN
F 2 "" H 2100 3450 50  0001 C CNN
F 3 "" H 2100 3450 50  0001 C CNN
	1    2100 3450
	1    0    0    -1  
$EndComp
Wire Wire Line
	2100 3450 2100 3650
Wire Wire Line
	2100 3650 2200 3650
Connection ~ 2100 3650
Wire Wire Line
	2200 3650 2300 3650
Connection ~ 2200 3650
$Comp
L power:GND #PWR0108
U 1 1 5E622DD3
P 2100 7000
F 0 "#PWR0108" H 2100 6750 50  0001 C CNN
F 1 "GND" H 2105 6827 50  0000 C CNN
F 2 "" H 2100 7000 50  0001 C CNN
F 3 "" H 2100 7000 50  0001 C CNN
	1    2100 7000
	1    0    0    -1  
$EndComp
Wire Wire Line
	2100 7000 2100 6650
Wire Wire Line
	2200 6650 2300 6650
Wire Wire Line
	2300 6650 2400 6650
Connection ~ 2300 6650
Wire Wire Line
	2200 6650 2100 6650
Connection ~ 2200 6650
Connection ~ 2100 6650
$Comp
L power:+3.3V #PWR0106
U 1 1 5E625D2A
P 1850 2050
F 0 "#PWR0106" H 1850 1900 50  0001 C CNN
F 1 "+3.3V" H 1865 2223 50  0000 C CNN
F 2 "" H 1850 2050 50  0001 C CNN
F 3 "" H 1850 2050 50  0001 C CNN
	1    1850 2050
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0103
U 1 1 5E626CC8
P 900 2350
F 0 "#PWR0103" H 900 2100 50  0001 C CNN
F 1 "GND" H 905 2177 50  0000 C CNN
F 2 "" H 900 2350 50  0001 C CNN
F 3 "" H 900 2350 50  0001 C CNN
	1    900  2350
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C104
U 1 1 5E627ED9
P 2350 2150
F 0 "C104" H 2442 2196 50  0000 L CNN
F 1 "100n" H 2442 2105 50  0000 L CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 2350 2150 50  0001 C CNN
F 3 "~" H 2350 2150 50  0001 C CNN
	1    2350 2150
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C105
U 1 1 5E629144
P 2750 2150
F 0 "C105" H 2842 2196 50  0000 L CNN
F 1 "100n" H 2842 2105 50  0000 L CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 2750 2150 50  0001 C CNN
F 3 "~" H 2750 2150 50  0001 C CNN
	1    2750 2150
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C107
U 1 1 5E62A020
P 3150 2150
F 0 "C107" H 3242 2196 50  0000 L CNN
F 1 "100n" H 3242 2105 50  0000 L CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 3150 2150 50  0001 C CNN
F 3 "~" H 3150 2150 50  0001 C CNN
	1    3150 2150
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C108
U 1 1 5E62A663
P 3550 2150
F 0 "C108" H 3642 2196 50  0000 L CNN
F 1 "100n" H 3642 2105 50  0000 L CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 3550 2150 50  0001 C CNN
F 3 "~" H 3550 2150 50  0001 C CNN
	1    3550 2150
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C106
U 1 1 5E62AB00
P 3050 3750
F 0 "C106" H 3142 3796 50  0000 L CNN
F 1 "100n" H 3142 3705 50  0000 L CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 3050 3750 50  0001 C CNN
F 3 "~" H 3050 3750 50  0001 C CNN
	1    3050 3750
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C109
U 1 1 5E62B05E
P 3950 2150
F 0 "C109" H 4042 2196 50  0000 L CNN
F 1 "1u" H 4042 2105 50  0000 L CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 3950 2150 50  0001 C CNN
F 3 "~" H 3950 2150 50  0001 C CNN
	1    3950 2150
	1    0    0    -1  
$EndComp
Wire Wire Line
	2350 2050 2750 2050
Connection ~ 2350 2050
Wire Wire Line
	2750 2050 3150 2050
Connection ~ 2750 2050
Wire Wire Line
	3150 2050 3550 2050
Connection ~ 3150 2050
Connection ~ 3550 2050
Text GLabel 3350 6150 2    50   BiDi ~ 0
USB-D+
Text GLabel 3350 6050 2    50   BiDi ~ 0
USB-D-
Wire Wire Line
	2900 6050 3350 6050
Wire Wire Line
	2900 6150 3350 6150
$Comp
L Switch:SW_Push SW101
U 1 1 5E6313B3
P 900 3850
F 0 "SW101" H 900 4135 50  0000 C CNN
F 1 "SW_Push" H 900 4044 50  0000 C CNN
F 2 "random-keyboard-parts:SKQG-1155865" H 900 4050 50  0001 C CNN
F 3 "~" H 900 4050 50  0001 C CNN
	1    900  3850
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0101
U 1 1 5E634A34
P 700 4050
F 0 "#PWR0101" H 700 3800 50  0001 C CNN
F 1 "GND" H 705 3877 50  0000 C CNN
F 2 "" H 700 4050 50  0001 C CNN
F 3 "" H 700 4050 50  0001 C CNN
	1    700  4050
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C102
U 1 1 5E638A0E
P 1100 3950
F 0 "C102" H 1192 3996 50  0000 L CNN
F 1 "100n" H 1192 3905 50  0000 L CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 1100 3950 50  0001 C CNN
F 3 "~" H 1100 3950 50  0001 C CNN
	1    1100 3950
	1    0    0    -1  
$EndComp
Connection ~ 1100 3850
Wire Wire Line
	1100 4050 700  4050
Wire Wire Line
	700  3850 700  4050
Connection ~ 700  4050
Wire Wire Line
	1100 3850 1600 3850
$Comp
L Connector_Generic:Conn_01x05 J101
U 1 1 5E640E55
P 1050 1250
F 0 "J101" H 1050 850 50  0000 C CNN
F 1 "Conn_01x05" H 1200 950 50  0000 C CNN
F 2 "Connector_JST:JST_SH_SM05B-SRSS-TB_1x05-1MP_P1.00mm_Horizontal" H 1050 1250 50  0001 C CNN
F 3 "http://www.jst-mfg.com/product/pdf/eng/ePH.pdf" H 1050 1250 50  0001 C CNN
	1    1050 1250
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR0105
U 1 1 5E644973
P 1850 1500
F 0 "#PWR0105" H 1850 1250 50  0001 C CNN
F 1 "GND" H 1855 1327 50  0000 C CNN
F 2 "" H 1850 1500 50  0001 C CNN
F 3 "" H 1850 1500 50  0001 C CNN
	1    1850 1500
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0104
U 1 1 5E645E1A
P 1850 1000
F 0 "#PWR0104" H 1850 850 50  0001 C CNN
F 1 "+5V" H 1865 1173 50  0000 C CNN
F 2 "" H 1850 1000 50  0001 C CNN
F 3 "" H 1850 1000 50  0001 C CNN
	1    1850 1000
	1    0    0    -1  
$EndComp
Text GLabel 1250 1350 2    50   Input ~ 0
USB-D-
Text GLabel 1250 1250 2    50   Input ~ 0
USB-D+
Text GLabel 1250 1050 2    50   Output ~ 0
Vsense
Wire Wire Line
	1850 1150 1850 1000
Wire Wire Line
	1250 1150 1850 1150
Wire Wire Line
	1850 1450 1850 1500
Wire Wire Line
	1250 1450 1850 1450
$Sheet
S 10250 650  800  600 
U 5E64D9E7
F0 "matrix" 50
F1 "matrix.sch" 50
$EndSheet
Wire Wire Line
	3550 2050 3950 2050
Wire Wire Line
	2500 3550 2300 3550
Wire Wire Line
	2300 3550 2300 3650
Wire Wire Line
	2500 3550 2500 3650
Connection ~ 2300 3650
Wire Wire Line
	3050 3450 3050 3650
$Comp
L power:GND #PWR0109
U 1 1 5EFE1B26
P 3050 3850
F 0 "#PWR0109" H 3050 3600 50  0001 C CNN
F 1 "GND" H 3055 3677 50  0000 C CNN
F 2 "" H 3050 3850 50  0001 C CNN
F 3 "" H 3050 3850 50  0001 C CNN
	1    3050 3850
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R101
U 1 1 5E624452
P 2600 3450
F 0 "R101" H 2650 3400 50  0000 L CNN
F 1 "100" H 2650 3300 50  0000 L CNN
F 2 "Resistor_SMD:R_0402_1005Metric" H 2600 3450 50  0001 C CNN
F 3 "~" H 2600 3450 50  0001 C CNN
	1    2600 3450
	0    -1   -1   0   
$EndComp
Wire Wire Line
	2500 3450 2500 3550
Connection ~ 2500 3550
Wire Wire Line
	2700 3450 2700 3600
Wire Wire Line
	2700 3600 2400 3600
Wire Wire Line
	2400 3600 2400 3650
Wire Wire Line
	3050 3450 2700 3450
Connection ~ 2700 3450
$Comp
L Regulator_Linear:XC6206PxxxMR U101
U 1 1 5E63D7AB
P 1350 2050
F 0 "U101" H 1350 2292 50  0000 C CNN
F 1 "XC6206P332MR" H 1350 2201 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 1350 2275 50  0001 C CIN
F 3 "https://www.torexsemi.com/file/xc6206/XC6206.pdf" H 1350 2050 50  0001 C CNN
	1    1350 2050
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C101
U 1 1 5E643787
P 900 2150
F 0 "C101" H 992 2196 50  0000 L CNN
F 1 "1u" H 992 2105 50  0000 L CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 900 2150 50  0001 C CNN
F 3 "~" H 900 2150 50  0001 C CNN
	1    900  2150
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C103
U 1 1 5E6440A6
P 1850 2150
F 0 "C103" H 1942 2196 50  0000 L CNN
F 1 "1u" H 1942 2105 50  0000 L CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 1850 2150 50  0001 C CNN
F 3 "~" H 1850 2150 50  0001 C CNN
	1    1850 2150
	1    0    0    -1  
$EndComp
Wire Wire Line
	1650 2050 1850 2050
Wire Wire Line
	1850 2050 2350 2050
Connection ~ 1850 2050
Wire Wire Line
	1850 2250 1850 2350
Wire Wire Line
	1850 2350 1350 2350
Wire Wire Line
	900  2250 900  2350
Wire Wire Line
	900  2350 1350 2350
Connection ~ 1350 2350
Wire Wire Line
	1050 2050 900  2050
Connection ~ 1850 2350
Wire Wire Line
	1850 2350 2350 2350
Wire Wire Line
	2350 2350 2350 2250
Wire Wire Line
	2350 2350 2750 2350
Wire Wire Line
	2750 2350 2750 2250
Connection ~ 2350 2350
Wire Wire Line
	2750 2350 3150 2350
Wire Wire Line
	3150 2350 3150 2250
Connection ~ 2750 2350
Wire Wire Line
	3150 2350 3550 2350
Wire Wire Line
	3550 2350 3550 2250
Connection ~ 3150 2350
Wire Wire Line
	3550 2350 3950 2350
Wire Wire Line
	3950 2350 3950 2250
Connection ~ 3550 2350
$Comp
L power:+5V #PWR0102
U 1 1 5E6577C1
P 900 2050
F 0 "#PWR0102" H 900 1900 50  0001 C CNN
F 1 "+5V" H 915 2223 50  0000 C CNN
F 2 "" H 900 2050 50  0001 C CNN
F 3 "" H 900 2050 50  0001 C CNN
	1    900  2050
	1    0    0    -1  
$EndComp
Connection ~ 900  2050
Connection ~ 900  2350
$Comp
L power:+5V #PWR0110
U 1 1 5E658CC9
P 9200 900
F 0 "#PWR0110" H 9200 750 50  0001 C CNN
F 1 "+5V" H 9215 1073 50  0000 C CNN
F 2 "" H 9200 900 50  0001 C CNN
F 3 "" H 9200 900 50  0001 C CNN
	1    9200 900 
	1    0    0    -1  
$EndComp
Text GLabel 9300 1000 2    50   Output ~ 0
LED+
Text GLabel 9300 1200 2    50   Output ~ 0
LED-
Wire Wire Line
	9200 900  9200 1000
Wire Wire Line
	9200 1000 9300 1000
$Comp
L Device:Q_NMOS_GSD Q101
U 1 1 5E71ADB0
P 9100 1500
F 0 "Q101" H 9305 1546 50  0000 L CNN
F 1 "AO3400A" H 9305 1455 50  0000 L CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 9300 1600 50  0001 C CNN
F 3 "https://datasheet.lcsc.com/szlcsc/Alpha-Omega-Semicon-AOS-AO3400A_C20917.pdf" H 9100 1500 50  0001 C CNN
	1    9100 1500
	1    0    0    -1  
$EndComp
Wire Wire Line
	9200 1200 9200 1300
Wire Wire Line
	9200 1200 9300 1200
$Comp
L power:GND #PWR0111
U 1 1 5E721452
P 9200 1700
F 0 "#PWR0111" H 9200 1450 50  0001 C CNN
F 1 "GND" H 9205 1527 50  0000 C CNN
F 2 "" H 9200 1700 50  0001 C CNN
F 3 "" H 9200 1700 50  0001 C CNN
	1    9200 1700
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C110
U 1 1 5E7D4A32
P 1150 5150
F 0 "C110" H 1242 5196 50  0000 L CNN
F 1 "100n" H 1242 5105 50  0000 L CNN
F 2 "Capacitor_SMD:C_0402_1005Metric" H 1150 5150 50  0001 C CNN
F 3 "~" H 1150 5150 50  0001 C CNN
	1    1150 5150
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R103
U 1 1 5E7D5EC0
P 900 5150
F 0 "R103" H 950 5100 50  0000 L CNN
F 1 "10k" H 950 5000 50  0000 L CNN
F 2 "Resistor_SMD:R_0402_1005Metric" H 900 5150 50  0001 C CNN
F 3 "~" H 900 5150 50  0001 C CNN
	1    900  5150
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R102
U 1 1 5E7D6E4F
P 900 4950
F 0 "R102" H 950 4900 50  0000 L CNN
F 1 "10k" H 950 4800 50  0000 L CNN
F 2 "Resistor_SMD:R_0402_1005Metric" H 900 4950 50  0001 C CNN
F 3 "~" H 900 4950 50  0001 C CNN
	1    900  4950
	1    0    0    -1  
$EndComp
Connection ~ 900  5050
Text GLabel 850  4850 0    50   Input ~ 0
Vsense
Wire Wire Line
	900  4850 850  4850
$Comp
L power:GND #PWR0112
U 1 1 5E7DB3B5
P 900 5250
F 0 "#PWR0112" H 900 5000 50  0001 C CNN
F 1 "GND" H 905 5077 50  0000 C CNN
F 2 "" H 900 5250 50  0001 C CNN
F 3 "" H 900 5250 50  0001 C CNN
	1    900  5250
	1    0    0    -1  
$EndComp
Connection ~ 900  5250
Connection ~ 1150 5050
Wire Wire Line
	1150 5050 1600 5050
Wire Wire Line
	900  5050 1150 5050
Wire Wire Line
	900  5250 1150 5250
$Comp
L Device:R_Small R104
U 1 1 5E6454D0
P 8800 1500
F 0 "R104" H 8850 1450 50  0000 L CNN
F 1 "100" H 8850 1350 50  0000 L CNN
F 2 "Resistor_SMD:R_0402_1005Metric" H 8800 1500 50  0001 C CNN
F 3 "~" H 8800 1500 50  0001 C CNN
	1    8800 1500
	0    -1   1    0   
$EndComp
Text GLabel 8700 1500 0    50   Input ~ 0
LED_PWM
Text GLabel 3350 6250 2    50   Output ~ 0
LED_PWM
Wire Wire Line
	2900 6250 3350 6250
Text GLabel 3350 5350 2    50   Output ~ 0
SPI_NSS
Text GLabel 3350 5450 2    50   Output ~ 0
SPI_SCK
Text GLabel 3350 5550 2    50   Output ~ 0
SPI_MISO
Text GLabel 3350 5650 2    50   Output ~ 0
SPI_MOSI
Wire Wire Line
	2900 5650 3350 5650
Wire Wire Line
	2900 5550 3350 5550
Wire Wire Line
	2900 5450 3350 5450
Wire Wire Line
	2900 5350 3350 5350
$Comp
L Connector_Generic:Conn_01x06 J?
U 1 1 5E674686
P 3050 1250
F 0 "J?" H 2968 725 50  0000 C CNN
F 1 "Conn_01x06" H 2968 816 50  0000 C CNN
F 2 "Connector_JST:JST_SH_SM06B-SRSS-TB_1x06-1MP_P1.00mm_Horizontal" H 3050 1250 50  0001 C CNN
F 3 "~" H 3050 1250 50  0001 C CNN
	1    3050 1250
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5E677479
P 3900 1500
F 0 "#PWR?" H 3900 1250 50  0001 C CNN
F 1 "GND" H 3905 1327 50  0000 C CNN
F 2 "" H 3900 1500 50  0001 C CNN
F 3 "" H 3900 1500 50  0001 C CNN
	1    3900 1500
	1    0    0    -1  
$EndComp
Wire Wire Line
	3250 1450 3900 1450
Wire Wire Line
	3900 1450 3900 1500
$Comp
L power:+5V #PWR?
U 1 1 5E67906B
P 3900 900
F 0 "#PWR?" H 3900 750 50  0001 C CNN
F 1 "+5V" H 3915 1073 50  0000 C CNN
F 2 "" H 3900 900 50  0001 C CNN
F 3 "" H 3900 900 50  0001 C CNN
	1    3900 900 
	1    0    0    -1  
$EndComp
Wire Wire Line
	3900 900  3900 950 
Wire Wire Line
	3900 950  3250 950 
Text GLabel 3250 1050 2    50   Input ~ 0
SPI_NSS
Text GLabel 3250 1150 2    50   Input ~ 0
SPI_SCK
Text GLabel 3250 1250 2    50   Input ~ 0
SPI_MISO
Text GLabel 3250 1350 2    50   Input ~ 0
SPI_MOSI
$EndSCHEMATC
